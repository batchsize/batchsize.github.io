```bash
1. 明确问题本质
滑动窗口最大值
在滑动窗口内找到最大值，最大值会随窗口移动变化(移动过程中，哪些会“失效”，哪些还能继续作为候选最大值)

2. 找到状态更新的关键点
窗口每次右移一格，有三个动作:
    a. 移除过期元素：最左边如果滑出，不再考虑
        要检测dq.front() 是否在[i-k+1, i]范围内
        如果不在，dq.pop_front()
    b. 维护最大值候选：
        如果arr[i]比队尾大，队尾元素永远不可能成为最大值(因为更早进入窗口)
        要从队尾不断pop_back()
    c. 加入当前元素
        把i入队(可能作为未来最大值)
3. 确定什么时候输出结果
    窗口大小k，当i>=k-1 第一个完整窗口出现
    此时最大值时arr[dq.front()],因为队列始终维护窗口内最大值的下标


4个问题：
    a.窗口右移，谁被移出
    b.新来元素，旧元素谁要被淘汰
    c.队列应该存什么(值还是下标)
    d.在什么条件下输出结果？

移除过期元素
移除没用元素
插入新元素
输出窗口结果


滑动窗口通用模板(四步法): 最大值， 最小值，平均值，和


最大值 / 最小值（需要单调队列）

和 / 平均值（只需要维护一个累加和）

其他变种（比如「窗口中不同元素个数」）


🔹总结思维框架

最大值/最小值 → 用 单调队列（核心：淘汰没用元素）

和/平均值 → 用 累加和（核心：加新值、减旧值）

输出条件始终是：i >= k-1 时才形成窗口

👉 记住套路：

窗口值依赖最大/最小 → 单调队列

窗口值依赖求和 → 滑动累加


```